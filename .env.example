#--------------------------------------------------------------------
# Example Environment Configuration file
#
# This file can be used as a starting point for your own
# custom .env files, and contains most of the possible settings
# available in a default install.
#
# By default, all of the settings are commented out. If you want
# to override the setting, you must un-comment it by removing the '#'
# at the beginning of the line.
#--------------------------------------------------------------------

#--------------------------------------------------------------------
# ENVIRONMENT
#--------------------------------------------------------------------

CI_ENVIRONMENT = development

#--------------------------------------------------------------------
# APP
#--------------------------------------------------------------------

app.baseURL = 'http://localhost/serverpengaduan/'
app.forceGlobalSecureRequests = false
app.CSPEnabled = true

#--------------------------------------------------------------------
# DATABASE
#--------------------------------------------------------------------

database.default.hostname = localhost
database.default.database = pengaduan_kominfo
database.default.username = postgres
database.default.password = password
database.default.DBDriver = Postgre
database.default.DBPrefix = 
database.default.port = 5432

#--------------------------------------------------------------------
# SECURITY
#--------------------------------------------------------------------

# JWT Secret Key for API Authentication
JWT_SECRET_KEY = 'your-very-secure-secret-key-change-this-in-production-min-32-chars'

# Session Configuration
session.driver = 'CodeIgniter\Session\Handlers\FileHandler'
session.cookieName = 'pengaduan_session'
session.expiration = 7200
session.savePath = WRITEPATH . 'session'
session.matchIP = false
session.timeToUpdate = 300
session.regenerateDestroy = false

# CSRF Configuration
security.csrfProtection = 'session'
security.tokenRandomize = true
security.tokenName = 'csrf_token_name'
security.headerName = 'X-CSRF-TOKEN'
security.cookieName = 'csrf_cookie_name'
security.expires = 7200
security.regenerate = true
security.redirect = true

#--------------------------------------------------------------------
# EMAIL
#--------------------------------------------------------------------

email.fromEmail = 'noreply@kominfo-gunungkidul.go.id'
email.fromName = 'Sistem Pengaduan Kominfo Gunung Kidul'
email.protocol = 'smtp'
email.SMTPHost = 'smtp.gmail.com'
email.SMTPUser = 'your-email@gmail.com'
email.SMTPPass = 'your-app-password'
email.SMTPPort = 587
email.SMTPCrypto = 'tls'
email.mailType = 'html'
email.charset = 'utf-8'
email.wordWrap = true

#--------------------------------------------------------------------
# FILE UPLOAD
#--------------------------------------------------------------------

# Maximum file size for uploads (in bytes)
MAX_FILE_SIZE = 5242880  # 5MB
ALLOWED_FILE_TYPES = 'jpg,jpeg,png,gif,pdf,doc,docx'
UPLOAD_PATH = 'writable/uploads/'

#--------------------------------------------------------------------
# CORS SETTINGS
#--------------------------------------------------------------------

# Allowed origins for CORS (comma separated)
CORS_ALLOWED_ORIGINS = 'http://localhost:3000,https://yourdomain.com'

#--------------------------------------------------------------------
# RATE LIMITING
#--------------------------------------------------------------------

# API Rate limiting (requests per minute)
API_RATE_LIMIT = 60
LOGIN_RATE_LIMIT = 5

#--------------------------------------------------------------------
# LOGGING
#--------------------------------------------------------------------

logger.threshold = 4

#--------------------------------------------------------------------
# CACHE
#--------------------------------------------------------------------

cache.handler = 'file'
cache.storePath = WRITEPATH . 'cache/'

#--------------------------------------------------------------------
# ENCRYPTION
#--------------------------------------------------------------------

encryption.key = 'hex2bin:your-encryption-key-here-change-in-production'
encryption.driver = 'OpenSSL'

#--------------------------------------------------------------------
# HONEYPOT
#--------------------------------------------------------------------

honeypot.hidden = 'true'
honeypot.label = 'Fill This Field'
honeypot.name = 'honeypot'
honeypot.template = '<label>{label}</label><input type="text" name="{name}" value=""/>'
honeypot.container = '<div style="display:none">{template}</div>'

#--------------------------------------------------------------------
# PUSH NOTIFICATIONS (Firebase)
#--------------------------------------------------------------------

FIREBASE_SERVER_KEY = 'your-firebase-server-key'
FIREBASE_SENDER_ID = 'your-firebase-sender-id'

#--------------------------------------------------------------------
# THIRD PARTY SERVICES
#--------------------------------------------------------------------

# Google reCAPTCHA
RECAPTCHA_SITE_KEY = 'your-recaptcha-site-key'
RECAPTCHA_SECRET_KEY = 'your-recaptcha-secret-key'

# SMS Gateway (optional)
SMS_API_KEY = 'your-sms-api-key'
SMS_API_URL = 'https://api.smsgateway.com/send'

#--------------------------------------------------------------------
# BACKUP
#--------------------------------------------------------------------

# Database backup settings
BACKUP_PATH = WRITEPATH . 'backups/'
BACKUP_RETENTION_DAYS = 30

#--------------------------------------------------------------------
# SYSTEM SETTINGS
#--------------------------------------------------------------------

# Timezone
APP_TIMEZONE = 'Asia/Jakarta'

# Default pagination
DEFAULT_PER_PAGE = 20
MAX_PER_PAGE = 100

# Image processing
IMAGE_QUALITY = 85
THUMBNAIL_SIZE = 300
MAX_IMAGE_WIDTH = 1200
MAX_IMAGE_HEIGHT = 1200

# Auto assignment
AUTO_ASSIGN_PENGADUAN = false
DEFAULT_ADMIN_ID = 1

# Notification settings
ENABLE_EMAIL_NOTIFICATIONS = true
ENABLE_PUSH_NOTIFICATIONS = true
NOTIFICATION_BATCH_SIZE = 100
